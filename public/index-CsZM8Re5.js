import{r as d,j as e,A as H,G as B,c as L,L as E,d as G,R as W,P as F,e as V,Z as J,f as q,g as Z,h as Y,i as K}from"./vendor-UP4Z2ljD.js";import{g as M,r as Q,a as X,b as ee}from"./services/benchmarkutils-BTyhpWCM.js";import{R as S}from"./components/radialscore-oJFM28PY.js";import{H as te}from"./components/historylog-DzJ7c1LW.js";import"./index-CsZM8Re5.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const g of l.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function x(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(t){if(t.ep)return;t.ep=!0;const l=x(t);fetch(t.href,l)}})();function ce(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var r=(s=>(s.IDLE="IDLE",s.RUNNING_CPU_SINGLE="RUNNING_CPU_SINGLE",s.RUNNING_CPU_MULTI="RUNNING_CPU_MULTI",s.RUNNING_GPU="RUNNING_GPU",s.CALCULATING="CALCULATING",s.COMPLETED="COMPLETED",s.ERROR="ERROR",s))(r||{});const j=[{name:"Potato / Calculator",minScore:0,color:"text-gray-400",description:"Basic tasks only. Might struggle with modern web apps."},{name:"Office Clerk",minScore:5e5,color:"text-blue-400",description:"Good for documents, browsing, and media consumption."},{name:"Student Laptop",minScore:1e6,color:"text-green-400",description:"Capable multitasker. Handles light gaming and creative work."},{name:"Creative Pro",minScore:15e5,color:"text-purple-400",description:"Great for video editing, coding, and design work."},{name:"Gaming Rig",minScore:2e6,color:"text-orange-400",description:"High-performance machine ready for AAA gaming."},{name:"Titan Workstation",minScore:3e6,color:"text-red-500",description:"Extreme performance. Crushes heavy rendering and computation."}],se=()=>{const[s,i]=d.useState(r.IDLE),[x,u]=d.useState({cpuSingle:0,cpuMulti:0,gpuScore:0}),[t,l]=d.useState(null),[g,b]=d.useState(0),[n,P]=d.useState(null),[v,U]=d.useState(0),[w,y]=d.useState([]),[R,C]=d.useState(!1);d.useEffect(()=>{l(M());const a=localStorage.getItem("titanBenchHistory");if(a)try{y(JSON.parse(a))}catch(o){console.error("Failed to load history",o)}},[]);const T=a=>{const o=[...w,a];y(o),localStorage.setItem("titanBenchHistory",JSON.stringify(o))},_=()=>{y([]),localStorage.removeItem("titanBenchHistory")},O=a=>{const o=Math.floor(a.cpuSingle*10+a.cpuMulti*.5+a.gpuScore*10),m=[...j].reverse().find(p=>o>=p.minScore)||j[0];return{total:o,tier:m}},D=d.useCallback(async()=>{i(r.RUNNING_CPU_SINGLE),u({cpuSingle:0,cpuMulti:0,gpuScore:0}),P(null),U(0),b(0),C(!1);const a=M();l(a);try{b(10);const o=await Q(2500);u(c=>({...c,cpuSingle:o})),i(r.RUNNING_CPU_MULTI),b(40);const m=await X(3e3);u(c=>({...c,cpuMulti:m})),i(r.RUNNING_GPU),b(70);const p=await ee(3e3);u(c=>({...c,gpuScore:p})),i(r.CALCULATING),b(95),setTimeout(()=>{const c={cpuSingle:o,cpuMulti:m,gpuScore:p},{total:N,tier:h}=O(c);U(N),P(h),i(r.COMPLETED),b(100);const z={id:Date.now().toString(),timestamp:Date.now(),scores:c,system:a,totalScore:N,tierName:h.name,tierColor:h.color};T(z)},800)}catch(o){console.error(o),i(r.ERROR)}},[w]),A=()=>{const a=(t==null?void 0:t.userAgent)||"",o=a.match(/(Chrome|Firefox|Safari|Edge|Opera)\/[\d.]+/),m=a.match(/(Mac OS X|Windows NT|Linux|Android|iOS)[\s\d._]*/),p=o?o[0]:"Unknown Browser",c=m?m[0].replace(/_/g,"."):(t==null?void 0:t.platform)||"Unknown OS",N=`# TitanBench Results Analysis Request

## My Benchmark Results
| Metric | Score | Description |
|--------|-------|-------------|
| Single-Core | ${x.cpuSingle.toLocaleString()} | Single-threaded CPU performance |
| Multi-Core | ${x.cpuMulti.toLocaleString()} | Multi-threaded CPU performance (${(t==null?void 0:t.threads)||"?"} threads used) |
| GPU Compute | ${x.gpuScore.toLocaleString()} | WebGL shader compute performance |
| **Composite** | **${v.toLocaleString()}** | Weighted total score |
| Tier Rank | ${n==null?void 0:n.name} | ${(n==null?void 0:n.description)||""} |

## System Information

### Device Info (from browser APIs)
| Property | Value |
|----------|-------|
| Operating System | ${c} |
| Browser | ${p} |
| Platform | ${(t==null?void 0:t.platform)||"Unknown"} |
| Display | ${(t==null?void 0:t.physicalResolution)||(t==null?void 0:t.resolution)||"Unknown"} (physical pixels) |

### GPU Details
| Property | Value |
|----------|-------|
| GPU Renderer | ${(t==null?void 0:t.gpuRenderer)||"Unknown"} |
| GPU Vendor | ${(t==null?void 0:t.gpuVendor)||"Unknown"} |
| WebGL Version | ${(t==null?void 0:t.gpuDriverVersion)||"Unknown"} |

### Browser-Reported Hardware (may be capped for privacy)
| Property | Reported Value | Note |
|----------|----------------|------|
| CPU Threads | ${(t==null?void 0:t.threads)||"Unknown"} | Browsers often cap at 8-16 for fingerprinting protection |
| Device Memory | ${(t==null?void 0:t.memory)||"Unknown"} | Capped at 8GB max by navigator.deviceMemory spec |

### Raw User Agent
\`\`\`
${(t==null?void 0:t.userAgent)||"Unknown"}
\`\`\`

## Benchmark Methodology (for AI context)

### How TitanBench Works:
1. **Single-Core Test** (2.5s): Runs intensive math operations (sin, cos, sqrt) in a Web Worker. Score = operations completed / 1000. Higher = faster single-thread performance.

2. **Multi-Core Test** (3s): Spawns N workers (one per logical core as reported by browser) running the same math workload in parallel. Score = total operations across all workers / 1000.

3. **GPU Compute Test** (3s): Renders a WebGL fragment shader with 600 loop iterations per pixel at 640x640 resolution. Score = (FPS × 150 × consistency_bonus). Uses gl.finish() for accurate timing.

### Composite Score Formula:
\`\`\`
Composite = (Single-Core × 10) + (Multi-Core × 0.5) + (GPU × 10)
\`\`\`
Note: Multi-core is weighted lower because browser thread capping makes it unreliable.

### Tier Thresholds:
| Tier | Min Score | Use Case |
|------|-----------|----------|
${j.map(h=>`| ${h.name} | ${h.minScore.toLocaleString()} | ${h.description} |`).join(`
`)}

## Important Context for Analysis:
- **Browser limitations**: Thread count and memory are often capped by browsers for fingerprinting protection. Multi-core scores may be lower than native benchmarks due to this.
- **GPU via WebGL**: This tests WebGL compute, not native GPU (Vulkan/Metal). Actual GPU performance in games/apps may differ.
- **JavaScript engine**: Performance varies by browser. V8 (Chrome) typically fastest, followed by SpiderMonkey (Firefox) and JavaScriptCore (Safari).

## Questions for Analysis:
1. Based on my GPU renderer string and scores, what device/chip am I likely using?
2. How do my scores compare to typical modern devices (2023-2024 laptops/desktops)?
3. Which component (CPU single/multi, GPU) appears to be my bottleneck?
4. Based on these scores, what real-world tasks would my device handle well or struggle with?
5. Given the browser may be capping my thread count, what's your estimate of my actual CPU core count based on the single vs multi-core scaling ratio?`;navigator.clipboard.writeText(N),C(!0),setTimeout(()=>C(!1),2e3)},$=()=>{switch(s){case r.RUNNING_CPU_SINGLE:return"Igniting Single Core (Warming Up)...";case r.RUNNING_CPU_MULTI:return"Full Throttle Multi-Core...";case r.RUNNING_GPU:return"Heavy Shader Compilation...";case r.CALCULATING:return"Calculating Power Level...";case r.COMPLETED:return"Benchmark Complete";case r.ERROR:return"Benchmark Failed";default:return"Ready to Bench"}},I=a=>a.toLocaleString("de-DE"),f=s!==r.IDLE&&s!==r.COMPLETED&&s!==r.ERROR;return e.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 flex flex-col font-sans selection:bg-cyan-500 selection:text-white",children:[e.jsx("header",{className:"border-b border-slate-800 bg-slate-900/50 backdrop-blur-md sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"text-cyan-400",size:24}),e.jsxs("h1",{className:"text-xl font-bold tracking-tight",children:["Titan",e.jsx("span",{className:"text-cyan-400",children:"Bench"})]})]}),e.jsxs("a",{href:"https://github.com/HoangTran0410/titanbench",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors",children:[e.jsx(B,{size:20}),e.jsx("span",{className:"text-xs font-mono hidden sm:block",children:"GitHub"})]})]})}),e.jsxs("main",{className:"flex-1 max-w-6xl mx-auto w-full px-6 py-8",children:[e.jsxs("section",{className:"mb-12 text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2 text-white",children:"Test Your Device"}),e.jsx("p",{className:"text-slate-400 mb-4",children:"Benchmark your CPU and GPU performance in seconds, right in your browser."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-xs text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1.5 bg-slate-900/50 px-3 py-1.5 rounded-full border border-slate-800",children:[e.jsx(L,{className:"text-cyan-400",size:14})," CPU Single"]}),e.jsxs("span",{className:"flex items-center gap-1.5 bg-slate-900/50 px-3 py-1.5 rounded-full border border-slate-800",children:[e.jsx(E,{className:"text-indigo-400",size:14})," CPU Multi"]}),e.jsxs("span",{className:"flex items-center gap-1.5 bg-slate-900/50 px-3 py-1.5 rounded-full border border-slate-800",children:[e.jsx(G,{className:"text-pink-400",size:14})," GPU"]})]})]}),e.jsxs("div",{className:"inline-flex items-center justify-center p-3 rounded-full bg-slate-900 border border-slate-800 mt-8 shadow-lg",children:[e.jsx("span",{className:`w-2.5 h-2.5 rounded-full mr-3 ${f?"animate-pulse bg-cyan-400":s===r.COMPLETED?"bg-green-400":"bg-slate-500"}`}),e.jsx("span",{className:"text-sm font-medium text-slate-300 uppercase tracking-wide",children:$()})]}),e.jsxs("div",{className:"max-w-2xl mx-auto relative group flex justify-center py-4",children:[e.jsx("div",{className:`absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 rounded-full transition-all duration-700
                ${f?"bg-cyan-500 opacity-20 blur-3xl scale-150 animate-pulse":s===r.COMPLETED?"bg-green-500 opacity-10 blur-2xl scale-100":"bg-blue-500 opacity-0 blur-xl scale-75"}
             `}),e.jsxs("button",{onClick:D,disabled:f,className:`relative z-10 px-16 py-6 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all transform hover:scale-105 active:scale-95 shadow-2xl overflow-hidden group
                ${f?"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-700":"bg-gradient-to-br from-slate-800 to-slate-900 text-white border border-slate-700 hover:border-cyan-500/50"}
              `,children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] ${f?"hidden":""}`}),s===r.COMPLETED?e.jsx(W,{size:24}):e.jsx(F,{size:24,fill:"currentColor"}),e.jsx("span",{children:s===r.COMPLETED?"Rerun":"Start"})]})]}),f&&e.jsxs("div",{className:"max-w-md mx-auto mt-8",children:[e.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-2 font-mono",children:[e.jsx("span",{children:"PROGRESS"}),e.jsxs("span",{children:[g,"%"]})]}),e.jsx("div",{className:"h-1 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-cyan-400 transition-all duration-300 ease-linear shadow-[0_0_10px_rgba(34,211,238,0.8)]",style:{width:`${g}%`}})})]})]}),e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(S,{score:x.cpuSingle,max:3e5,label:"Single-Core",color:"#22d3ee",icon:e.jsx(L,{size:28})}),e.jsx(S,{score:x.cpuMulti,max:25e5,label:"Multi-Core",color:"#818cf8",icon:e.jsx(E,{size:28})}),e.jsx(S,{score:x.gpuScore,max:15e3,label:"GPU Compute",color:"#f472b6",icon:e.jsx(G,{size:28})})]}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-slate-900 to-slate-950 border border-slate-800 rounded-xl p-8 relative overflow-hidden shadow-2xl flex flex-col justify-between group min-h-[400px]",children:[e.jsx("div",{className:"absolute -top-10 -right-10 opacity-[0.03] rotate-12 group-hover:rotate-0 transition-transform duration-1000",children:e.jsx(V,{size:300})}),e.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[e.jsxs("h3",{className:"text-sm font-bold uppercase text-slate-400 mb-4 flex items-center gap-2",children:[e.jsx(J,{size:16,className:"text-yellow-500"})," Performance Rank"]}),s===r.COMPLETED&&e.jsxs("button",{onClick:A,className:"flex items-center gap-2 text-xs font-mono bg-slate-800 hover:bg-slate-700 text-slate-300 px-3 py-1.5 rounded-lg border border-slate-700 transition-colors",children:[R?e.jsx(q,{size:14,className:"text-green-400"}):e.jsx(Z,{size:14}),R?"Copied to Clipboard":"Copy AI Prompt"]})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative z-10",children:[s===r.IDLE&&e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"text-slate-500 text-sm",children:"Awaiting benchmark results..."}),e.jsx("div",{className:"flex gap-1 justify-center opacity-30",children:[1,2,3,4,5,6].map(a=>e.jsx("div",{className:"w-2 h-8 bg-slate-500 rounded-full"},a))})]}),s!==r.IDLE&&s!==r.COMPLETED&&s!==r.ERROR&&e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-slate-800 rounded-full"}),e.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 border-4 border-t-cyan-400 rounded-full animate-spin"})]}),e.jsx("span",{className:"text-cyan-400 text-sm font-mono animate-pulse",children:"ANALYZING HARDWARE..."})]}),s===r.COMPLETED&&n&&e.jsxs("div",{className:"w-full animate-in fade-in zoom-in duration-500",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsxs("div",{className:"relative mb-8 group cursor-default",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-slate-500 mb-1",children:"Composite Score"}),e.jsx("div",{className:"text-6xl md:text-8xl font-mono font-black text-transparent bg-clip-text bg-gradient-to-b from-white to-slate-400 drop-shadow-2xl",children:I(v)})]}),e.jsx("div",{className:`text-4xl md:text-6xl font-black italic tracking-tighter mb-4 ${n.color} drop-shadow-[0_0_25px_rgba(0,0,0,0.5)] transform -skew-x-6`,children:n.name}),e.jsx("p",{className:"text-slate-400 text-lg max-w-xl font-light mb-8",children:n.description})]}),e.jsxs("div",{className:"mt-6 px-4 md:px-24 w-full",children:[e.jsx("div",{className:"h-3 bg-slate-800 rounded-full flex w-full relative",children:j.map((a,o)=>{const m=v>=a.minScore,p=n.name===a.name;return e.jsx("div",{className:`group/tier flex-1 transition-all duration-700 relative border-r border-slate-900 last:border-0 first:rounded-l-full last:rounded-r-full
                              ${m?p?a.color.replace("text-","bg-"):"bg-slate-600":"bg-slate-800"}
                              ${p?"shadow-[0_0_15px_currentColor] z-10":""}
                              cursor-help
                            `,children:e.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 w-48 hidden group-hover/tier:block z-50 pointer-events-none",children:e.jsxs("div",{className:"bg-slate-950/95 backdrop-blur text-slate-200 text-xs rounded-lg p-3 border border-slate-700 shadow-2xl relative",children:[e.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-slate-950 border-r border-b border-slate-700 rotate-45"}),e.jsx("div",{className:`font-bold ${a.color} mb-1 border-b border-slate-800 pb-1`,children:a.name}),e.jsxs("div",{className:"flex justify-between items-center text-[10px] text-slate-400 mb-1.5 font-mono",children:[e.jsx("span",{children:"Min Score:"}),e.jsx("span",{className:"text-slate-200",children:a.minScore.toLocaleString()})]}),e.jsx("div",{className:"text-[10px] text-slate-500 leading-snug",children:a.description})]})})},o)})}),e.jsxs("div",{className:"flex justify-between text-[9px] text-slate-600 uppercase tracking-widest mt-2 font-mono",children:[e.jsx("span",{children:"Low End"}),e.jsx("span",{children:"Titan Class"})]})]}),t&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-800",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-widest text-slate-600 mb-3",children:"System Detected"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:[e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-3 border border-slate-800",children:[e.jsx("div",{className:"text-slate-500 mb-1",children:"Platform"}),e.jsx("div",{className:"text-slate-300 font-mono",children:t.platform})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-3 border border-slate-800",children:[e.jsx("div",{className:"text-slate-500 mb-1",children:"GPU"}),e.jsx("div",{className:"text-slate-300 font-mono truncate",title:t.gpuRenderer,children:t.gpuRenderer.split("/")[0].split("(")[0].trim()})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-3 border border-slate-800",children:[e.jsx("div",{className:"text-slate-500 mb-1",children:"CPU Threads"}),e.jsxs("div",{className:"text-slate-300 font-mono",children:[t.threads,t.threadsNote&&e.jsxs("span",{className:"text-slate-600 text-[10px]",children:[" ","*"]})]})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-3 border border-slate-800",children:[e.jsx("div",{className:"text-slate-500 mb-1",children:"Display"}),e.jsx("div",{className:"text-slate-300 font-mono",children:t.physicalResolution})]})]})]})]})]})]})}),e.jsx(te,{history:w,onClear:_})]}),e.jsx("footer",{className:"py-6 text-center text-slate-600 text-xs border-t border-slate-900 bg-slate-950",children:e.jsx("p",{children:"TitanBench v1.2.0 • Browser Hardware Diagnostics"})})]})},k=document.getElementById("root");if(!k)throw new Error("Could not find root element to mount to");const re=Y.createRoot(k);re.render(e.jsx(K.StrictMode,{children:e.jsx(se,{})}));export{ce as g};
